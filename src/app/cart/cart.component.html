<h2 class="my-4 text-center">Your Cart</h2>

<div *ngIf="cartItems.length === 0" class="text-center">
  <p>Your cart is empty.</p>
</div>

<div *ngIf="cartItems.length > 0">
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Product</th>
        <th scope="col">Price ($)</th>
        <th scope="col">Quantity</th>
        <th scope="col">Subtotal ($)</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems">
        <td>{{ item.title }}</td>
        <td>{{ item.price }}</td>
        <td>
          <button class="btn btn-outline-secondary btn-sm" (click)="changeQuantity(item, false)">-</button>
          <span class="mx-2">{{ item.quantity }}</span>
          <button class="btn btn-outline-secondary btn-sm" (click)="changeQuantity(item, true)">+</button>
        </td>
        <td>{{ item.price * item.quantity | number: '1.2-2' }}</td>
        <td>
          <button class="btn btn-danger btn-sm" (click)="removeItem(item.id)">Remove</button>
        </td>
      </tr>
    </tbody>
  </table>

  <h3 class="my-4">Total: ${{ total | number: '1.2-2' }}</h3>

  <div class="text-center">
    <button class="btn btn-primary" (click)="buyNow()" [disabled]="cartItems.length === 0">
      Buy Now
    </button>
  </div>
</div>
